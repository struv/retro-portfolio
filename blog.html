<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog - William Struve</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="shared/blog.css">
    <link rel="stylesheet" href="style.css">
    <script src="shared/blog-data.js"></script>
</head>
<body>

    <main class="main-container">
        <div class="page-header">
            <div class="category-tag">ARTICLES</div>
            <h1 class="page-title">Technical Blog</h1>
            <p class="page-subtitle">Exploring web development, music production, and digital creativity</p>
        </div>

        <div class="articles-grid" id="articles-grid">
            <!-- Articles will be generated here -->
        </div>
    </main>

    <script>
        function renderArticles() {
            const grid = document.getElementById('articles-grid');
            const articles = blogData.articles;

            articles.forEach(article => {
                const articleElement = document.createElement('article');
                articleElement.className = 'article-card';

                // For multi-part series, link to the first part
                const linkUrl = article.series
                    ? `blog/${article.series.parts[0].id}.html`
                    : `blog/${article.id}.html`;

                articleElement.onclick = () => window.location.href = linkUrl;

                const seriesInfo = article.series
                    ? `<span class="article-date">• ${article.series.parts.length} parts</span>`
                    : '';

                articleElement.innerHTML = `
                    <img src="${article.image}" alt="${article.title}" class="article-image">
                    <div class="article-content-card">
                        <div class="article-meta-card">
                            <span class="article-tag">${article.tag}</span>
                            <span class="article-date">${article.date}</span>
                            <span class="article-date">•</span>
                            <span class="article-date">${article.readTime}</span>
                            ${seriesInfo}
                        </div>
                        <h2 class="article-title-card">${article.title}</h2>
                        <p class="article-excerpt">${article.excerpt}</p>
                        <a href="${linkUrl}" class="read-more">Read ${article.series ? 'Series' : 'Article'}</a>
                    </div>
                `;

                grid.appendChild(articleElement);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderArticles);
    </script>

    <script src="shared/init.js"></script>
    <script>
        document.addEventListener('sharedComponentsReady', function() {
            console.log('Initializing components...');
            initializeNavbar();
            initializeMP3Player();
            console.log('All components initialized');
        });
    </script>
</body>
</html>