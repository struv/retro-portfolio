<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Coding Common Security Issues - William Struve</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../shared/blog.css">
    <link rel="stylesheet" href="../style.css">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>

    <main class="article-container">
        <a href="../blog.html" class="back-link">Back to Articles</a>

        <article>
            <header class="article-header">
                <div class="category-tag">SECURITY</div>
                <h1 class="article-title">Vibe Coding Common Security Issues</h1>
                <div class="article-meta">
                    <span>William Struve</span>
                    <span class="meta-separator">•</span>
                    <span>January 28, 2025</span>
                    <span class="meta-separator">•</span>
                    <span>6 min read</span>
                </div>
            </header>

            <img src="https://i.pinimg.com/1200x/c2/3d/08/c23d082c090b55fe20d612b321a0511a.jpg" alt="Cybersecurity concept" class="featured-image">

            <div class="article-content" id="article-content">
                <!-- Content will be rendered here -->
            </div>
        </article>
    </main>

    <script>
        const articleContent = `## Vibe Coding Common Security Issues

Coding with Cursor and Claude Code is awesome. If I had known this tech would exist, I wouldn't have wasted hundreds of hours learning syntax for multiple languages and focused more on higher level skills. Most important of which is **Security**. Here are some things to look out for:

### 1. Rate Limit Your Endpoints

If you forget this, bad actors can crash your application, open you to attacks, or drain your paid resources such as databases.

To prevent this you can use:
- Edge Functions with a rate limiter
- Vercel middleware
- Basic IP throttling

**Why it matters**: Without rate limiting, malicious actors can:
- Overwhelm your server with requests (DoS attacks)
- Drain your database credits
- Execute brute-force attacks on authentication endpoints
- Abuse expensive API calls

### 2. Enable Row-Level Security

Users could query other people's data without this protection. You can enable this in Supabase and use policies like \`user_id = auth.uid()\`

**Example Supabase RLS policy**:
\`\`\`sql
CREATE POLICY "Users can only access their own data"
ON user_profiles
FOR ALL
USING (auth.uid() = user_id);
\`\`\`

This ensures each user can only access their own records, preventing unauthorized data access.

### 3. Add CAPTCHA to Your Auth Flows

Without it, bots can make infinite fake accounts.

**Common solutions**:
- Google reCAPTCHA v3 (invisible, score-based)
- hCaptcha (privacy-focused alternative)
- Turnstile by Cloudflare (modern, user-friendly)

Bot-generated accounts can be used for spam, abuse, or coordinated attacks on your platform.

### 4. Enable Web Application Firewall

This blocks bad traffic. Easily enable in Vercel in security settings.

**What WAF protects against**:
- SQL injection attempts
- Cross-site scripting (XSS)
- Common exploit patterns
- Known malicious IP addresses
- Suspicious request patterns

Most modern hosting platforms (Vercel, Netlify, Cloudflare) offer WAF as part of their security features.

### 5. Secure Your API Keys and Secrets

Don't accidentally upload this to Github lol, people **will** find your API key and drain your credits.

Instead, store keys in \`.env\` files and use server-only functions for anything sensitive.

**Best practices**:
\`\`\`javascript
// ❌ BAD - Never expose API keys on the client
const apiKey = "sk_live_12345abcde";

// ✅ GOOD - Use environment variables on the server
const apiKey = process.env.SECRET_API_KEY;
\`\`\`

Always add \`.env\` to your \`.gitignore\`:
\`\`\`
.env
.env.local
.env.*.local
\`\`\`

### 6. Validate Inputs on the Backend

Frontend can be bypassed, so make sure to have backend validation to prevent injection attacks.

**Example validation**:
\`\`\`javascript
// ❌ BAD - Trusting client input
app.post('/api/user', (req, res) => {
    db.query(\`INSERT INTO users VALUES ('\${req.body.name}')\`);
});

// ✅ GOOD - Backend validation + parameterized queries
app.post('/api/user', (req, res) => {
    const { name } = req.body;

    // Validate input
    if (!name || typeof name !== 'string' || name.length > 100) {
        return res.status(400).json({ error: 'Invalid input' });
    }

    // Use parameterized queries
    db.query('INSERT INTO users (name) VALUES (?)', [name]);
});
\`\`\`

**Never trust client-side validation alone**. Users can modify requests, disable JavaScript, or use tools like Postman to bypass frontend checks.

### 7. Clean Up Dependencies

Make sure to remove unused packages. You can run \`npm audit fix\` or \`yarn audit\`. This reduces attack vectors.

**Regular maintenance tasks**:
\`\`\`bash
# Check for vulnerabilities
npm audit

# Automatically fix issues
npm audit fix

# Remove unused dependencies
npm prune

# Update packages
npm update
\`\`\`

Each package you include is a potential security risk if it contains vulnerabilities or is compromised. Keep your dependencies minimal and up-to-date.

### 8. Add Basic Monitoring and Logs

Having a robust logging system can help you see vulnerabilities before someone else does.

You can use **Supabase Logs** and **Vercel Analytics** to track:
- Failed login attempts
- High traffic spikes
- Unhandled errors
- Unusual access patterns
- API endpoint abuse

**What to monitor**:
\`\`\`javascript
// Log suspicious activity
logger.warn('Multiple failed login attempts', {
    ip: req.ip,
    attempts: failedAttempts,
    timestamp: new Date()
});

// Track critical errors
logger.error('Database connection failed', {
    error: err.message,
    stack: err.stack
});
\`\`\`

Set up alerts for critical events so you can respond quickly to potential security incidents.

---

## Final Thoughts

**Vibe coding is a valuable tool in 2025**, but it's important to take security seriously, especially when developing enterprise applications that will handle sensitive data and large volumes of users.

AI coding assistants are incredible productivity boosters, but they don't always know your security requirements or the specific threats your application might face. Always review generated code with security in mind and implement these fundamental protections.

Remember: **Security is not a feature you add at the end—it's a foundation you build from the start.**

---

*Have questions about implementing these security measures? Feel free to reach out to me at wstruve.tech@gmail.com check out my other security-focused articles.*`;

        function renderContent() {
            const contentElement = document.getElementById('article-content');
            const html = marked.parse(articleContent);
            contentElement.innerHTML = html;
        }

        document.addEventListener('DOMContentLoaded', renderContent);
    </script>

    <script src="../shared/init.js"></script>
    <script>
        document.addEventListener('sharedComponentsReady', function() {
            console.log('Initializing components...');
            initializeNavbar();
            initializeMP3Player();
            console.log('All components initialized');
        });
    </script>
</body>
</html>
